---
title: "assignement1_eco"
format: pdf
editor: visual
---

## Assignment 1: Data and Descriptive

This assignment is intended to gather, process, and analyze sub-national GDP and population data for a selection of European countries.
We will calculate GDP per capita and investigate regional disparities using various descriptive statistics and visualizations.

We have been tasked with analyzing Ireland, Poland, Spain, Slovenia, the Netherlands, Greece, Norway, Albania from the year 2000 to 2020.

```{r}
#| setup: lable
library(tidyverse)
library(dplyr)
library(dineq)
library(ineq)
library(magrittr)
```

## Part A : Sub-national GDP and GDP per Capita

### **1 . Data Acquisition:**

#### Dataset: GDP

This dataset is a sub-regional GDP dataset for a selection of our European countries.
GDP stands for Gross Domestic Product, and it is a key economic indicator used to measure the overall economic health and performance of a country or region.
The variables relevant to us are;

GEO: this variable show us the geopolitical entity.

Time_Period: this variable shows us the time period in years.

Obs_Value: this variable shows us the value of GDP.

```{r}
library(tidyverse)
GDP <- read_csv("GDP.csv")
View(GDP)
```

Before we start calculating the GDP per inhabitant for each sub-region, we want to "clean up" the dataset so that we only include the necessary variables:

```{r}
# We rename one of the variables and select the ones we want
GDP1 <- GDP |> 
  select(year = TIME_PERIOD, geo, gdp = OBS_VALUE)
```

#### Dataset: Population

This dataset is a dataset about population for a selection of our European countries.
Population refers to the total number of individuals of a particular species or group inhabiting a specific area or planet at a given time.The variables relevant to us are;

GEO: this variable show us the geopolitical entity.

Time_Period: this variable shows us the time period in years.

Obs_Value: this variable shows us the value of GDP.

```{r}
population <- read_csv("population.csv")
#View(population)
```

we will do the same as on the previous data set by selecting the necessary variables:

```{r}
# We rename one of the variables and select the ones we want
population1 <- population |> 
  select(year = TIME_PERIOD, geo, population = OBS_VALUE)
```

### **2. GDP per Capita Calculation:**

Now we will calculate GDP per capita for each subregion.
The first thing we need to do is combine the two datasets into one.

```{r}
merged_data <- left_join(population1, GDP1, join_by(year, geo))
```

```{r}
# Clean up
rm(GDP, GDP1, population, population1)
```

The formula we have used to find GDP per capita is:

![](images/formel.png){fig-align="center"}

```{r}
merged_data <- merged_data |> 
  mutate(
    data_per_capita = round(100*gdp/population, digits = 2)
  )
```

In the formula we have added \*100 to get the number as a percentage and further we have included "digits=2" to limit it down to two decimal places.

### **3. Descriptive Analysis:**

To get a better overview of the variables "GNP per capita", we sort it from highest to lowest value.

```{r}
merged_data_desc <- merged_data |> 
  arrange(desc(data_per_capita))
```

GDP (Gross Domestic Product) is an economic indicator that measures the average economic output per person in a country during a year.
A high GDP per capita generally indicates a higher standard of living in a country.
Here we see that Spain emerges as the top performer.
We observe that ES703 (El Hierro) is the region with the highest GDP per capita.

On the other hand, we observe that Poland performs very poorly, with several places in Poland registering 0% in GDP per capita, indicating a low standard of living.
It's important to note that a GDP per capita of 0 is typically not a normal or desirable economic condition for a country.
It usually indicates severe economic challenges that require attention and action to improve the situation.

Additionally, we will examine and provide interpretations for various statistical measures:

1.  Mean:

```{r}
mean_data_per_capita <- mean(merged_data$data_per_capita, na.rm = TRUE) 
  print(mean_data_per_capita)
```

2.  Min and max:

```{r}
min_data_per_capita <- min(merged_data$data_per_capita, na.rm = TRUE)
  print(min_data_per_capita)
max_data_per_capita <- max(merged_data$data_per_capita, na.rm = TRUE)
  print(max_data_per_capita)
```

3.  Standard Deviation:

```{r}
std_dev_data_per_capita <- sd(merged_data$data_per_capita, na.rm = TRUE)
  print(std_dev_data_per_capita)
```

4.  Median:

```{r}
median_data_per_capita <- median(merged_data$data_per_capita, na.rm = TRUE)
  print(median_data_per_capita)
```

Gini... ðŸ˜£

```{r}
merged_data_temp <- merged_data %>%
  mutate(id_nuts3 = geo, 
         id_nuts2 = substr(geo, 1, 4),
         id_nuts0 = substr(geo, 1, 2)) 
```

```{r}
merged_data_temp %<>% 
  filter(population != "NA") %>%
filter(population != 0) %>%
  filter(data_per_capita != "NA") %>%
  group_by(id_nuts2, year) %>%
  mutate(gini_n2 = gini.wtd(data_per_capita, weights = population)) %>%
  ungroup()
```

```{r}
# Clean up
rm(merged_data_temp_2, merged_data_desc)
```

--\> videre: COMMANT SOM HETER "FIRST"

?

```{r}
gini_coefficient <- gini.wtd(x = merged_data$data_per_capita, weights = NULL)
  print(gini_coefficient)
```
